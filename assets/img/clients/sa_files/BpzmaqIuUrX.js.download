;/*FB_PKG_DELIM*/

__d("bs_js_math",["bs_js_int"],(function(a,b,c,d,e,f){"use strict";function a(a){return Math.ceil(a)}function c(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.ceil(a)}function d(a){return Math.floor(a)}function g(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.floor(a)}function e(a,b){return g(Math.random()*(b-a|0))+a|0}var h=c,i=g;f.unsafe_ceil=a;f.ceil_int=c;f.ceil=h;f.unsafe_floor=d;f.floor_int=g;f.floor=i;f.random_int=e}),null);
__d("PolarisStoriesHighlightsRoot.react",["DateConsts","PolarisLinkBuilder","PolarisLoggedOutLoginConstants","PolarisReactRedux","PolarisStoriesComponent.react","PolarisStoryActions","PolarisisUserLoggedIn","PolarisuserSelectors","bs_js_math","promiseDone","react","shouldDisplayLoggedOutHighlights"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b;a=a.props;var e=a.routeProps,f=e.show_qr_modal,g=e.user;e=e.latest_reel_updated;var k=a.routeParams.highlight_reel_id,l=d("PolarisReactRedux").useDispatch();a=j(!1);var m=a[0],n=a[1];a=d("PolarisisUserLoggedIn").isUserLoggedIn();b=(b=d("PolarisuserSelectors").useUser(g.id))==null?void 0:(b=b.counts)==null?void 0:b.followedBy;var o=e!=null&&d("bs_js_math").floor((d("DateConsts").getCurrentTimeInSeconds()-e)/d("DateConsts").SEC_PER_DAY)>d("PolarisLoggedOutLoginConstants").DAYS_HIGHLIGHT_STORIES_ACTIVE&&c("shouldDisplayLoggedOutHighlights")(b);if(!a&&k!=null&&!o){e=d("PolarisLinkBuilder").buildHighlightStoryLink(k);l(d("PolarisStoryActions").initStoryAuth(e))}i(function(){m||c("promiseDone")(l(d("PolarisStoryActions").initStoryPage({owner:g,highlightReelId:k,isLoggedOutHighlightViewer:o})).then(function(){n(!0)}))},[l,k,m,o,g]);return h.jsx(c("PolarisStoriesComponent.react"),{initializing:m===!1,isLoggedOutHighlightViewer:o,showQRModal:f,username:g.username,viewerIsLoggedIn:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);